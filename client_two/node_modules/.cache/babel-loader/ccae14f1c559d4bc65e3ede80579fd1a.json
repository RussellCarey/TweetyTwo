{"ast":null,"code":"var _jsxFileName = \"/Users/r/Desktop/TweetyTwo/client_two/src/components/jobs/delete-button.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { theme } from \"../../styles/theme/theme\";\nimport { ButtonHover } from \"../../mixins/mixins\";\nimport JobsContext from \"../../context/jobs/JobsContext\";\nimport ModalContext from \"../../context/modal/ModalContext\";\nimport { EModal } from \"../../context/modal/types\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.button`\n  width: 40px;\n  height: 40px;\n\n  background-color: ${theme.colors.ui.blue};\n  color: ${theme.colors.text.white};\n  font-size: ${theme.fonts.fontsizes.small};\n  border-radius: 30%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  justify-self: end;\n  align-self: center;\n\n  transition: all 0.2s;\n\n  outline: none;\n  border: none;\n\n  ${ButtonHover}\n\n  @media (max-width: 750px) {\n    grid-row: 1/3;\n    grid-column: 2/3;\n    align-self: center;\n  }\n`;\n_c = Container;\n\nconst DeleteButton = _ref => {\n  _s();\n\n  let {\n    id\n  } = _ref;\n  let navigate = useNavigate();\n  const jobsContext = useContext(JobsContext);\n  const {\n    deletePostByID,\n    removeJobFromState\n  } = jobsContext;\n  const modalContext = useContext(ModalContext);\n  const {\n    showModal\n  } = modalContext;\n\n  const onClickHandler = async () => {\n    var _deletedItem$rows;\n\n    const deletedItem = await deletePostByID(id);\n    if (deletedItem.hasError) showModal(\"Error deleting tweet\", EModal.hasError);\n    if (((_deletedItem$rows = deletedItem.rows) === null || _deletedItem$rows === void 0 ? void 0 : _deletedItem$rows.length) < 1) showModal(\"Error deleting tweet\", EModal.hasError);\n    showModal(\"Deleted tweet!\", EModal.isOK);\n    setTimeout(() => {\n      navigate(\"/dashboard\");\n      removeJobFromState(deletedItem.data.job_id);\n    }, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    onClick: onClickHandler,\n    children: \"X\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 10\n  }, this);\n};\n\n_s(DeleteButton, \"ft1gUMgsyh7N5p89YgopW4GavAg=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = DeleteButton;\nexport default DeleteButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"DeleteButton\");","map":{"version":3,"sources":["/Users/r/Desktop/TweetyTwo/client_two/src/components/jobs/delete-button.tsx"],"names":["useContext","styled","theme","ButtonHover","JobsContext","ModalContext","EModal","useNavigate","Container","button","colors","ui","blue","text","white","fonts","fontsizes","small","DeleteButton","id","navigate","jobsContext","deletePostByID","removeJobFromState","modalContext","showModal","onClickHandler","deletedItem","hasError","rows","length","isOK","setTimeout","data","job_id"],"mappings":";;;AAAA,SAA4BA,UAA5B,QAA8C,OAA9C;AACA,OAAOC,MAAP,MAA4B,mBAA5B;AACA,SAASC,KAAT,QAAsB,0BAAtB;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,SAASC,MAAT,QAAuB,2BAAvB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,MAAMC,SAAS,GAAGP,MAAM,CAACQ,MAAO;AAChC;AACA;AACA;AACA,sBAAsBP,KAAK,CAACQ,MAAN,CAAaC,EAAb,CAAgBC,IAAK;AAC3C,WAAWV,KAAK,CAACQ,MAAN,CAAaG,IAAb,CAAkBC,KAAM;AACnC,eAAeZ,KAAK,CAACa,KAAN,CAAYC,SAAZ,CAAsBC,KAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAId,WAAY;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CA5BA;KAAMK,S;;AAkCN,MAAMU,YAAuC,GAAG,QAAY;AAAA;;AAAA,MAAX;AAAEC,IAAAA;AAAF,GAAW;AAC1D,MAAIC,QAAQ,GAAGb,WAAW,EAA1B;AACA,QAAMc,WAAW,GAAGrB,UAAU,CAACI,WAAD,CAA9B;AACA,QAAM;AAAEkB,IAAAA,cAAF;AAAkBC,IAAAA;AAAlB,MAAyCF,WAA/C;AACA,QAAMG,YAAY,GAAGxB,UAAU,CAACK,YAAD,CAA/B;AACA,QAAM;AAAEoB,IAAAA;AAAF,MAAgBD,YAAtB;;AAEA,QAAME,cAAc,GAAG,YAAY;AAAA;;AACjC,UAAMC,WAAW,GAAG,MAAML,cAAc,CAACH,EAAD,CAAxC;AACA,QAAIQ,WAAW,CAACC,QAAhB,EAA0BH,SAAS,CAAC,sBAAD,EAAyBnB,MAAM,CAACsB,QAAhC,CAAT;AAC1B,QAAI,sBAAAD,WAAW,CAACE,IAAZ,wEAAkBC,MAAlB,IAA2B,CAA/B,EAAkCL,SAAS,CAAC,sBAAD,EAAyBnB,MAAM,CAACsB,QAAhC,CAAT;AAClCH,IAAAA,SAAS,CAAC,gBAAD,EAAmBnB,MAAM,CAACyB,IAA1B,CAAT;AAEAC,IAAAA,UAAU,CAAC,MAAM;AACfZ,MAAAA,QAAQ,CAAC,YAAD,CAAR;AACAG,MAAAA,kBAAkB,CAACI,WAAW,CAACM,IAAZ,CAAiBC,MAAlB,CAAlB;AACD,KAHS,EAGP,IAHO,CAAV;AAID,GAVD;;AAYA,sBAAO,QAAC,SAAD;AAAW,IAAA,OAAO,EAAER,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CApBD;;GAAMR,Y;UACWX,W;;;MADXW,Y;AAsBN,eAAeA,YAAf","sourcesContent":["import { FunctionComponent, useContext } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { theme } from \"../../styles/theme/theme\";\nimport { ButtonHover } from \"../../mixins/mixins\";\nimport JobsContext from \"../../context/jobs/JobsContext\";\nimport ModalContext from \"../../context/modal/ModalContext\";\nimport { EModal } from \"../../context/modal/types\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Container = styled.button`\n  width: 40px;\n  height: 40px;\n\n  background-color: ${theme.colors.ui.blue};\n  color: ${theme.colors.text.white};\n  font-size: ${theme.fonts.fontsizes.small};\n  border-radius: 30%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  justify-self: end;\n  align-self: center;\n\n  transition: all 0.2s;\n\n  outline: none;\n  border: none;\n\n  ${ButtonHover}\n\n  @media (max-width: 750px) {\n    grid-row: 1/3;\n    grid-column: 2/3;\n    align-self: center;\n  }\n`;\n\ninterface IProps {\n  id: string;\n}\n\nconst DeleteButton: FunctionComponent<IProps> = ({ id }) => {\n  let navigate = useNavigate();\n  const jobsContext = useContext(JobsContext);\n  const { deletePostByID, removeJobFromState } = jobsContext;\n  const modalContext = useContext(ModalContext);\n  const { showModal } = modalContext;\n\n  const onClickHandler = async () => {\n    const deletedItem = await deletePostByID(id);\n    if (deletedItem.hasError) showModal(\"Error deleting tweet\", EModal.hasError);\n    if (deletedItem.rows?.length < 1) showModal(\"Error deleting tweet\", EModal.hasError);\n    showModal(\"Deleted tweet!\", EModal.isOK);\n\n    setTimeout(() => {\n      navigate(\"/dashboard\");\n      removeJobFromState(deletedItem.data.job_id);\n    }, 3000);\n  };\n\n  return <Container onClick={onClickHandler}>X</Container>;\n};\n\nexport default DeleteButton;\n"]},"metadata":{},"sourceType":"module"}