(this.webpackJsonpclient_two=this.webpackJsonpclient_two||[]).push([[0],{43:function(e,n,t){},66:function(e,n,t){"use strict";t.r(n);var r,a,i,o,c,s,l,u,d,b,h,p,m,x,j,g,f=t(0),O=t.n(f),w=t(35),v=t.n(w),z=(t(43),t(2)),y=t(3),L={ui:{main:"#2D2D3F",lightMain:"#323245",blue:"#20A4F3"},border:{main:"#52526E",mainDark:"#272836"},text:{white:"#ffff",grey:"#E1E1EB"},modal:{error:"#DB2B39",ok:"#6FD08C"}},k={space:{xsmall:"0.4rem",small:"0.8rem",medium:"1rem",large:"1.25rem",xlarge:"1.563rem",xxlarge:"1.953rem",xxxlage:"2.441rem"}},C={fontsizes:{small:"0.8rem",medium:"1rem",large:"1.25rem",xlarge:"1.563rem",xxlarge:"1.953rem",xxxlage:"2.441rem"},lineheights:{xsmall:"",small:"",medium:"",large:"",xlarge:"",xxlarge:""},letterspacing:{xsmall:"",small:"",medium:"",large:"",xlarge:"",xxlarge:""}},E=y.b.h1(r||(r=Object(z.a)(["\n  color: ",";\n  font-weight: 300;\n  font-size: ",";\n\n  @media (max-width: 500px) {\n    font-size: ",";\n  }\n\n  @media (max-width: 450px) {\n    display: none;\n  }\n"])),L.text.white,C.fontsizes.xlarge,C.fontsizes.large),S=(y.b.h5(a||(a=Object(z.a)(["\n  color: ",";\n  font-weight: 300;\n  font-size: ",";\n"])),L.text.grey,C.fontsizes.medium),y.b.p(i||(i=Object(z.a)(["\n  color: ",";\n  font-weight: 300;\n  font-size: ",";\n  text-overflow: ellipsis;\n"])),L.text.grey,C.fontsizes.medium)),D=Object(y.a)(o||(o=Object(z.a)(["\n  &:hover {\n    transform: scale(101%);\n    cursor: pointer;\n    box-shadow: 0 5px 14px rgba(0, 0, 0, 0.3);\n  }\n"]))),M=Object(y.a)(c||(c=Object(z.a)(["\n  &:focus {\n    outline: 1px solid ",";\n  }\n"])),L.ui.blue),T=Object(y.a)(s||(s=Object(z.a)(["\n  transition: all 0.3s ease-in-out;\n  outline: 1px solid transparent;\n\n  &:hover {\n    outline: 1px solid ",";\n  }\n"])),L.ui.blue),W=(Object(y.a)(l||(l=Object(z.a)(["\n  transition: all 0.3s ease-in-out;\n  outline: 1px solid transparent;\n\n  &:hover {\n    cursor: pointer;\n    outline: 1px solid ",";\n    transform: scale(101%);\n    box-shadow: 0 5px 14px rgba(0, 0, 0, 0.3);\n  }\n"])),L.ui.blue),t(1)),_=y.b.button(u||(u=Object(z.a)(["\n  color: ",";\n  background-color: ",";\n\n  width: max-content;\n  height: max-content;\n  font-size: ",";\n  padding: "," ",";\n\n  border-radius: 15px;\n\n  outline: none;\n  border: none;\n\n  ","\n"])),L.text.white,L.ui.blue,C.fontsizes.large,k.space.medium,k.space.medium,D),J=function(){return Object(W.jsx)("a",{href:"http://127.0.0.1:3333/api/auth/twitter",children:Object(W.jsx)(_,{children:"Login to twitter!"})})},P=Object(f.createContext)(null),I=t(5),B=y.b.button(d||(d=Object(z.a)(["\n  width: max-content;\n  height: max-content;\n  padding: ",";\n\n  z-index: 10;\n  background-color: ",";\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  box-shadow: 0 0 100px rgba(0, 0, 0, 0.5);\n"])),k.space.xxxlage,L.ui.main),A=Object(y.b)(E)(b||(b=Object(z.a)(["\n  margin-bottom: ",";\n"])),k.space.small),F=Object(y.b)(S)(h||(h=Object(z.a)(["\n  margin-bottom: ",";\n"])),k.space.large),H=y.b.img(p||(p=Object(z.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  margin-bottom: ",";\n  outline: 2px solid ",";\n"])),k.space.xlarge,L.border.mainDark),N=function(){var e=Object(I.f)(),n=Object(f.useContext)(P).authState;return Object(f.useEffect)((function(){n.user&&setTimeout((function(){e("/dashboard")}),2e3),n.user||e("/")}),[n.user]),Object(W.jsxs)(B,{children:[n.user?null:Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(A,{children:"Welcome to Tweety"}),Object(W.jsx)(F,{children:"The simple tweet scheduler."}),Object(W.jsx)(J,{})]}),n.user?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(A,{children:["Welcome ",n.user.displayName,"!!"]}),Object(W.jsx)(F,{children:"Great to have you."}),Object(W.jsx)(H,{src:n.user.profileImage,alt:"userimage"}),Object(W.jsx)(F,{children:"Please wait, loading your data."})]}):null]})},U=y.b.div(m||(m=Object(z.a)(["\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  background-image: url(\"data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='100' height='100' patternTransform='scale(7) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(236, 16%, 18%, 1)'/><path d='M0 0v1l1-1H0zm6.29 0-.147.143 11.81 11.619 8.19-8.143L22.666.047 22.709 0h-1.998l-.045.047 3.477 3.572-6.19 6.143L8.238.192 8.434 0H6.289zm6.759 0 1.047 1.047L15.143 0h-2.094zm14.474 0 7.143 7.143-2.428 2.523-3.43-3.523-4.855 4.572 8.238 8.142L43.857 7.143 36.686 0h-2.008l7.226 7.191-9.666 9.713L26 10.762l2.762-2.57 3.476 3.617 4.477-4.618L29.572.047 29.62 0h-2.096zm14.288 0 4.808 4.809 4.572-4.57L50.953 0h-2.047l.285.285-2.572 2.572L43.762 0H41.81zm14.068 0-17.64 17.904 4.57 4.62L65 .333 64.697 0H62.79l.258.285-20.19 20.192-2.572-2.573L57.857 0H55.88zm14.549 0-3.62 3.62 8.145 8.142L86.666.047 86.619 0h-1.951l.047.047L75 9.762l-6.143-6.143 2.57-2.572L75 4.619 79.62 0h-2.048l-2.619 2.62L72.334 0h-1.906zm21.43 0-3.62 3.62 4.57 4.571L100 .998V0h-.953l-6.19 6.191-2.572-2.572L93.905 0h-2.048zm-88 2.191L0 6.091v2.04l3.762-3.846 2.666 3.049-6.381 6.19-.047-.05v2.098l8.38-8.095L3.858 2.19zM100 6.091l-4.572 4.624L100 15.572v-2.097l-2.572-2.713L100 8.13V6.09zm-35.762.1-4.572 4.57 4.572 4.573 4.57-4.572-4.57-4.57zm21.428 0L74.953 16.904l-3.572-3.57-4.572 4.57 8.144 8.143 15.285-15.285-4.572-4.57zm-21.428 2 2.57 2.57-2.57 2.573-2.572-2.572 2.572-2.57zm21.477 0 2.57 2.57L75 24.048l-6.143-6.143 2.57-2.57L75 18.904 85.715 8.191zM10.666 10 0 20.668v2L10.666 12l2.572 2.572L0 27.811v2l15.238-15.239L10.666 10zm46.43 3.334L42.809 27.619l-7.381-7.38-8.143 8.142 4.572 4.572 3.57-3.572 2.811 2.81-6.142 6.143L21.38 27.619l-4.572 4.572 15.287 15.286 25-25L67.809 33.19l4.572-4.572-15.285-15.285zm35.713.238-4.57 4.57 11.714 11.715.047-.046v-1.954l-9.715-9.714 2.572-2.57L100 22.714v-2.047l-.047.047-7.144-7.143zm-71.143.094-12 11.38 4.572 4.669 7.334-7.238 3.381 3.57 4.62-4.62-7.907-7.761zm35.43 1.62L70.38 28.571l-2.572 2.57-10.713-10.714-25 25-13.287-13.285 2.572-2.57 10.715 10.712 8.142-8.142-4.81-4.809-3.57 3.57-2.573-2.57 6.143-6.143 7.38 7.381 14.288-14.287zm-35.477.429 5.904 5.762L25 24l-3.38-3.523-7.335 7.285-2.57-2.62 9.904-9.427zm64.047 4.762-4.57 4.57L96.38 40.334l3.619-3.62V34.81L85.666 20.477zm.049 2L99 35.762l-2.572 2.572-13.285-13.287 2.572-2.57zm-6.953 4.904L67.809 38.334l-3.57-3.572-4.573 4.572 8.143 8.143 15.525-15.524-4.572-4.572zm-71.666.238-4.573 4.572L17.81 47.477l4.572-4.573L7.096 27.62zm50 0L45.38 39.334l4.572 4.57 11.713-11.713-4.57-4.572zm21.713 1.762 2.572 2.572-13.524 13.524-6.142-6.143 2.57-2.572 3.572 3.572L78.81 29.381zm-71.713.238L20.38 42.904l-2.572 2.573L4.523 32.19l2.573-2.572zm50 0 2.57 2.572-9.713 9.713-2.572-2.57 9.715-9.715zm28.57 5.143-4.57 4.572 11.713 11.713 4.572-4.57-11.715-11.715zM0 34.809v1.906l.953-.953L0 34.809zm85.715 1.953 9.713 9.715-2.57 2.57-9.715-9.713 2.572-2.572zm-82.192 1.81L0 41.877v2.08l2.523 2.424L0 48.973v2.12l7.096 7.098 8.142-8.144L3.523 38.572zm0 1.951L13.238 50l-6.142 6.143L.953 50l3.57-3.715L1 42.857l2.523-2.334zM100 41.877l-1.096 1.027L100 43.957v-2.08zm-57.191.027-4.57 4.573 4.57 4.57 4.572-4.57-4.572-4.573zm14.287 0L45.38 53.62l4.572 4.572 7.143-7.144 10.713 10.715 4.572-4.57-15.285-15.288zm21.476 0-8.144 8.143L75 54.619l3.572-3.572 7.143 7.144 4.57-4.572-11.713-11.715zm-35.763 2 2.572 2.573-2.572 2.57-2.57-2.57 2.57-2.573zm14.287 0L70.38 57.191l-2.572 2.57-10.713-10.714-7.143 7.144-2.572-2.572 9.715-9.715zm21.476 0 9.713 9.715-2.57 2.572-7.143-7.144L75 52.619l-2.572-2.572 6.144-6.143zm-53.619 1.573L9.666 60.762l4.572 4.572 15.285-15.287-4.57-4.57zm0 2 2.57 2.57-13.285 13.287-2.572-2.572 13.287-13.285zM100 48.973l-1.047 1.074L100 51.094v-2.121zm-64.334.074-4.57 4.572 18.857 18.858 11.713-11.715-4.57-4.57-7.143 7.142-14.287-14.287zm0 2 14.287 14.287 7.143-7.143 2.57 2.57-9.713 9.716-16.857-16.858 2.57-2.572zm60.953 1.81-4.572 4.57L100 65.382v-2.049l-5.904-5.904 2.57-2.57L100 58.19v-1.953l-3.38-3.38zm-68.096 3.334L9.666 75.047l4.572 4.572 7.143-7.142 7.142 7.142 4.573-4.572-7.143-7.143 2.57-2.57 7.143 7.143 4.572-4.573-11.715-11.713zm50 0-8.142 8.143 8.142 8.143 4.573-4.573-3.573-3.57 3.573-3.572-4.573-4.57zM0 56.238v2l9.666 9.666-2.57 2.573L0 63.38v2l7.096 7.096 4.57-4.573L0 56.238zm28.523 1.905 9.715 9.714-2.572 2.57-7.143-7.142-4.57 4.572L31.096 75l-2.573 2.572-7.142-7.144-7.143 7.144L11.666 75l16.857-16.857zm50 .048 2.573 2.57-3.573 3.573 3.573 3.57-2.573 2.573-6.142-6.143 6.142-6.143zm10.715 1.57-4.572 4.573 3.572 3.57-6.904 6.905 4.57 4.572 11.477-11.477-8.143-8.142zm.047 2 6.143 6.143-9.475 9.477-2.572-2.572 6.904-6.905-3.57-3.57 2.57-2.572zm-25.047 1.573-8.142 8.143 4.57 4.57 8.143-8.143-4.57-4.57zm0 2 2.57 2.57-6.142 6.143-2.57-2.57 6.142-6.143zm-21.43 5.143L28.524 84.762l-7.142-7.143-4.572 4.57 11.714 11.715 18.858-18.857-4.572-4.57zm28.573 0-4.572 4.57 11.714 11.715 4.573-4.573L71.38 70.477zm28.572 0L88.238 82.189l4.57 4.43 7.145-7 .047.047v-2.094l-7.143 7.047-2.572-2.476L100 72.428v-1.905l-.047-.046zM0 70.523v1.952l16.809 16.81-2.57 2.572-3.573-3.572-7.143 7.143L0 91.904v2.05l3.523 3.523 7.143-7.143 3.572 3.57 4.57-4.57L0 70.524zm42.809 1.954 2.572 2.57-16.858 16.857-9.714-9.715 2.572-2.57 7.142 7.143L42.81 72.477zm28.572 0 9.715 9.712-2.573 2.573-9.714-9.715 2.572-2.57zm-17.858 1.57-4.57 4.572 4.57 4.57 4.573-4.57-4.573-4.572zm0 2 2.573 2.572-2.573 2.57-2.57-2.57 2.57-2.572zM0 77.619v2.047l6.096 6.096-2.573 2.666L0 84.81v1.953l3.523 3.664 4.573-4.713L0 77.619zm64.238 0L53.523 88.334l-7.142-7.145-4.572 4.573 11.714 11.715L68.81 82.189l-4.57-4.57zm0 2 2.57 2.57-13.285 13.288-9.714-9.715 2.572-2.573 7.142 7.145 10.715-10.715zm7.143 5.143-8.143 8.142 4.57 4.573 3.573-3.573 3.572 3.573 4.57-4.573-8.142-8.142zm14.285 0-4.57 4.572L89 97.238l4.572-4.572-7.906-7.904zm14.287 0-4.572 4.572 4.619 4.62v-2.097l-2.572-2.572 2.572-2.57V84.81l-.047-.05zm-28.525 1.953 6.144 6.142L75 95.427l-3.572-3.57-3.57 3.57-2.573-2.57 6.143-6.142zm14.287.047 5.904 5.904-2.572 2.572-5.904-5.904 2.572-2.572zm-46.477 1.572-4.572 4.57L41.762 100h2l-7.096-7.096 2.572-2.57L48.906 100h2L39.238 88.334zm-18.095 3.57-7.096 7.143-3.332-3.332L6.289 100h2.143l2.33-2.285L13.049 100h2.094l6.095-6.096L24 96.524 20.71 100h1.999L26 96.428l-4.857-4.524zm75.476 3.334L91.857 100h2.047l2.762-2.762 2.572 2.57-.191.192H100v-1.38l-3.38-3.382zm-36.142.096L55.879 100h1.978l2.57-2.62L62.79 100h1.908l-4.22-4.666zm-28.381.094L27.523 100h2.096l2.524-2.523L34.678 100h2.008l-4.59-4.572zm50 .049L77.572 100h2.047l2.524-2.523L84.668 100h1.951l-4.523-4.523zM0 98.617V100h1l.191-.191L0 98.617zm71.38.43-.952.953h1.906l-.953-.953z'  stroke-width='1' stroke='none' fill='hsla(240, 15%, 38%, 1)'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>\");\n  overflow: hidden;\n"]))),R=function(){return Object(W.jsx)(U,{children:Object(W.jsx)(N,{})})},q=Object(f.createContext)(null),K=t(6),V=t.n(K),G=t(8),Y=Object(f.createContext)(null),X="SHOW_MODAL",Q="RESET_MODAL",Z="HIDE_MODAL";!function(e){e.isOK="isOK",e.hasError="hasError"}(x||(x={})),function(e){e.isEmpty="isEmpty",e.hasError="hasError",e.success="success"}(j||(j={}));var $,ee,ne,te,re,ae,ie,oe,ce,se,le,ue,de,be,he,pe,me,xe,je,ge,fe,Oe,we,ve,ze,ye,Le=y.b.button(g||(g=Object(z.a)(["\n  width: 40px;\n  height: 40px;\n\n  background-color: ",";\n  color: ",";\n  font-size: ",";\n  border-radius: 30%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  justify-self: end;\n  align-self: center;\n\n  transition: all 0.2s;\n\n  outline: none;\n  border: none;\n\n  ","\n\n  @media (max-width: 750px) {\n    grid-row: 1/3;\n    grid-column: 2/3;\n    align-self: center;\n  }\n"])),L.ui.blue,L.text.white,C.fontsizes.small,D),ke=function(e){var n=e.id,t=Object(f.useContext)(q),r=t.deletePostByID,a=t.removeJobFromState,i=Object(f.useContext)(Y).showModal,o=function(){var e=Object(G.a)(V.a.mark((function e(){var t,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:if((o=e.sent)!==j.hasError){e.next=5;break}return e.abrupt("return",i("Error deleting tweet",x.hasError));case 5:if(!((null===(t=o.rows)||void 0===t?void 0:t.length)<1)){e.next=7;break}return e.abrupt("return",i("Error deleting tweet",x.hasError));case 7:i("Deleted tweet!",x.isOK),setTimeout((function(){var e;a(null===(e=o.data)||void 0===e?void 0:e.job_id)}),1500);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(Le,{onClick:o,children:"X"})},Ce=function(e){var n=new Date(e),t=n.getHours(),r=t<10?"0".concat(t):t,a=n.getMinutes(),i=a<10?"0".concat(a):a;return"".concat(r,":").concat(i)},Ee=function(e){var n=new Date(e),t=n.getFullYear(),r=n.getMonth()+1,a=r<10?"0".concat(r):r,i=n.getDate(),o=i<10?"0".concat(i):i;return"".concat(t,"/").concat(a,"/").concat(o)},Se=y.b.div($||($=Object(z.a)(["\n  width: 100%;\n  height: 80px;\n  padding: 0 ",";\n\n  border-radius: 20px;\n  border: 1px solid ",";\n\n  display: grid;\n  grid-template-columns: 30px 6fr 2fr 100px;\n\n  grid-column-gap: ",";\n  margin-bottom: ",";\n\n  transition: all 0.2s ease-in-out;\n\n  ","\n\n  @media (max-width: 1200px) {\n    grid-template-columns: 30px 4fr 2fr 100px;\n  }\n\n  @media (max-width: 950px) {\n    grid-template-columns: 30px 3fr 2fr 100px;\n  }\n\n  @media (max-width: 950px) {\n    grid-template-columns: 30px 2fr 2fr 100px;\n  }\n\n  @media (max-width: 750px) {\n    height: max-content;\n    padding: ",";\n    grid-row-gap: ",";\n    grid-template-columns: px 1fr 100px;\n    grid-template-rows: repeat(2, max-content);\n  }\n\n  @media (max-width: 750px) {\n    grid-template-columns: 1fr min-content;\n  }\n"])),k.space.xlarge,L.border.main,k.space.medium,k.space.medium,T,k.space.small,k.space.small),De=y.b.div(ee||(ee=Object(z.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n\n  @media (max-width: 750px) {\n    grid-row: 2/3;\n    grid-column: 1/2;\n  }\n"]))),Me=Object(y.b)(S)(ne||(ne=Object(z.a)(["\n  max-width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  font-size: ",";\n  align-self: center;\n"])),C.fontsizes.medium),Te=y.b.img(te||(te=Object(z.a)(["\n  width: 20px;\n  height: 20px;\n  margin-right: ",";\n  align-self: center;\n\n  @media (max-width: 750px) {\n    display: none;\n  }\n"])),k.space.medium),We=function(e){var n=e.jobData;return Object(W.jsxs)(Se,{children:[n.image_url?Object(W.jsx)(Te,{src:"./images/image-solid.png",alt:"image tweet"}):Object(W.jsx)(Te,{src:"./images/comment.png",alt:"text only tweet"}),Object(W.jsx)(Me,{children:n.message}),Object(W.jsxs)(De,{children:[Object(W.jsx)(S,{children:n.status}),Object(W.jsx)(S,{children:Ee(n.date)}),Object(W.jsx)(S,{children:Ce(n.date)})]}),Object(W.jsx)(ke,{id:n.job_id})]})},_e=y.b.div(re||(re=Object(z.a)(["\n  width: 100%;\n  height: max-content;\n  padding: "," 2px;\n\n  overflow-y: scroll;\n"])),k.space.small),Je=function(){var e=Object(f.useContext)(q).jobsState;return Object(W.jsxs)(_e,{children:[console.log(e.jobs),e.jobs?e.jobs.map((function(e){return Object(W.jsx)(We,{jobData:e},e.job_id)})):null]})},Pe=y.b.div(ae||(ae=Object(z.a)(["\n  height: min-content;\n  width: min-content;\n  margin-right: ",";\n  border-radius: 50%;\n  outline: 2px solid ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),k.space.large,L.border.main),Ie=y.b.img(ie||(ie=Object(z.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"]))),Be=function(){var e,n,t=Object(f.useContext)(P).authState;return Object(W.jsx)(Pe,{children:Object(W.jsx)(Ie,{src:(null===(e=t.user)||void 0===e?void 0:e.profileImage)?null===(n=t.user)||void 0===n?void 0:n.profileImage:"./images/default-profile.svg"})})},Ae=function(e){var n=e.text;return Object(W.jsx)(E,{children:n})},Fe=y.b.div(oe||(oe=Object(z.a)(["\n  width: max-content;\n  height: min-content;\n\n  display: flex;\n  align-items: center;\n"]))),He=function(){var e=Object(f.useContext)(P).authState;return Object(W.jsxs)(Fe,{children:[Object(W.jsx)(Be,{}),Object(W.jsx)(Ae,{text:e.user?"Welcome ".concat(e.user.displayName,"!"):"Welcome "})]})},Ne=y.b.button(ce||(ce=Object(z.a)(["\n  color: ",";\n  background-color: ",";\n\n  width: 100px;\n  height: 40px;\n\n  border-radius: 15px;\n\n  outline: none;\n  border: none;\n\n  font-size: ",";\n\n  ","\n"])),L.text.white,L.ui.blue,C.fontsizes.medium,D),Ue=function(){var e=Object(f.useContext)(q),n=e.jobsState,t=e.showCreateWindow,r=e.closeCreateWindow;return Object(W.jsx)(Ne,{onClick:function(e){n.showCreateWindow&&r(),n.showCreateWindow||t()},children:n.showCreateWindow?"Close":"New"})},Re=y.b.button(se||(se=Object(z.a)(["\n  color: ",";\n  background-color: ",";\n\n  width: 100px;\n  height: 40px;\n\n  border-radius: 15px;\n\n  outline: none;\n  border: none;\n\n  font-size: ",";\n\n  ","\n"])),L.text.white,L.ui.blue,C.fontsizes.medium,D),qe=function(){var e=Object(I.f)(),n=Object(f.useContext)(Y).showModal,t=Object(f.useContext)(P).logoutUser,r=function(){var r=Object(G.a)(V.a.mark((function r(){var a;return V.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n("Logging out, please wait.",x.isOK),r.next=3,t();case 3:a=r.sent,setTimeout((function(){return a===j.success?e("/"):a===j.hasError?n("Error logging out, please try again",x.hasError):void 0}),2e3);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(W.jsx)(Re,{onClick:r,children:"logout"})},Ke=y.b.div(le||(le=Object(z.a)(["\n  width: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  margin-bottom: ",";\n"])),k.space.xxxlage),Ve=y.b.div(ue||(ue=Object(z.a)(["\n  width: calc(200px + 20px);\n  height: max-content;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ge=function(){return Object(W.jsxs)(Ke,{children:[Object(W.jsx)(He,{}),Object(W.jsxs)(Ve,{children:[Object(W.jsx)(Ue,{}),Object(W.jsx)(qe,{})]})]})},Ye=y.b.input(de||(de=Object(z.a)(["\n  width: 100%;\n  height: 100%;\n  font-size: ",";\n  color: ",";\n\n  background-color: transparent;\n  border: none;\n  outline: none;\n"])),C.fontsizes.medium,L.text.white),Xe=function(){var e=Object(f.useContext)(q).searchJobsByText;return Object(W.jsx)(Ye,{placeholder:"Search your tweets..",onChange:function(n){var t=n.target;e(t.value)}})},Qe=y.b.div(be||(be=Object(z.a)(["\n  width: 100%;\n  height: max-content;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ze=y.b.div(he||(he=Object(z.a)(["\n  width: 40%;\n\n  border: solid 1px ",";\n  border-radius: 15px;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  //prettier-ignore\n  padding:  ",";\n\n  margin-bottom: ",";\n\n  ","\n\n  @media (max-width: 650px) {\n    width: 100%;\n  }\n"])),L.border.main,k.space.small,k.space.xxxlage,T),$e=function(){return Object(W.jsx)(Qe,{children:Object(W.jsx)(Ze,{children:Object(W.jsx)(Xe,{})})})},en=y.b.div(pe||(pe=Object(z.a)(["\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: ",";\n\n  overflow: hidden;\n"])),L.ui.main),nn=y.b.div(me||(me=Object(z.a)(["\n  width: calc(100vw - ",");\n  height: calc(100vh - ",");\n\n  background-color: ",";\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.35);\n  border-radius: 20px;\n\n  padding: "," ",";\n\n  display: flex;\n  flex-direction: column;\n\n  @media (max-width: 750px) {\n    width: 100vw;\n    height: 100vh;\n    border-radius: 0;\n    padding: "," ",";\n  }\n"])),k.space.xxxlage,k.space.xxxlage,L.ui.main,k.space.xlarge,k.space.xxlarge,k.space.medium,k.space.large),tn=t(12),rn=t.n(tn),an=t(13),on=t(7),cn=t(9),sn=t(24),ln=y.b.div(xe||(xe=Object(z.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  @media (max-width: 550px) {\n    margin-bottom: ",";\n  }\n"])),k.space.large),un=y.b.textarea(je||(je=Object(z.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  outline: none;\n  border: solid 1px ",";\n  border-radius: 15px;\n  padding: ",";\n\n  font-size: ",";\n  color: ",";\n  background-color: ",";\n  resize: none;\n\n  ","\n  ","\n\n   @media (max-width: 550px) {\n    width: 100%;\n    flex-direction: column;\n  }\n"])),L.border.main,k.space.medium,C.fontsizes.medium,L.text.white,L.ui.lightMain,M,T),dn=y.b.p(ge||(ge=Object(z.a)(["\n  position: absolute;\n  right: ",";\n  bottom: ",";\n  z-index: 5000;\n\n  font-size: ",";\n  color: ",";\n"])),k.space.small,k.space.small,C.fontsizes.small,(function(e){return e.wordCount>=280?L.modal.error:L.text.grey})),bn=function(e){var n=e.onChange,t=e.id,r=e.value;return Object(W.jsxs)(ln,{children:[Object(W.jsx)(un,{id:t,value:r,placeholder:"Type your tweet, make it a good one!",onChange:n}),Object(W.jsx)(dn,{wordCount:r.length,children:"".concat(r.length,"/280")})]})},hn=y.b.div(fe||(fe=Object(z.a)(["\n  width: 35%;\n  height: 100%;\n\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(2, 1fr);\n  grid-gap: ",";\n\n  margin-left: ",";\n\n  @media (max-width: 750px) {\n    width: 100%;\n  }\n\n  @media (max-width: 550px) {\n    margin: 0;\n  }\n"])),k.space.xsmall,k.space.medium),pn=function(e){var n=e.children;return Object(W.jsx)(hn,{children:n})},mn=y.b.input(Oe||(Oe=Object(z.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 50px;\n\n  padding: ",";\n\n  border-radius: 15px;\n  border: 1px solid ",";\n\n  ","\n  ","\n"])),k.space.medium,L.border.main,M,T),xn=function(e){var n=e.type,t=e.onChange,r=e.id,a=e.value;return Object(W.jsx)(mn,{type:n,value:a,onChange:t,id:r})},jn=y.b.button(we||(we=Object(z.a)(["\n  width: 100%;\n  height: 100%;\n  max-height: 50px;\n\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 15px;\n\n  color: ",";\n\n  transition: all 0.1s ease-in-out;\n  ","\n  ","\n"])),L.ui.main,L.border.main,L.text.white,D,T),gn=function(e){var n=e.text,t=e.onClick;return Object(W.jsx)(jn,{onClick:t,children:n})},fn=t(14),On=t.n(fn),wn=function(){var e=Object(G.a)(V.a.mark((function e(n){var t,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("image",n,"".concat(n.name)),e.prev=2,e.next=5,On.a.request({method:"POST",withCredentials:!0,url:"http://localhost:3333/api/post/addImage",data:t,headers:{authorization:"".concat(tn.get("token"))}});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",j.hasError);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}(),vn=function(){var e=Object(G.a)(V.a.mark((function e(n,t){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.a.request({method:"POST",withCredentials:!0,url:"http://localhost:3333/api/post/message",data:{date:n.date,time:n.time,message:n.message,imageURL:t?t.url:null,imageName:t?t.name:null},headers:{authorization:"".concat(tn.get("token"))}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",j.hasError);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),zn=Object(y.b)(sn.a.div)(ve||(ve=Object(z.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  z-index: 500;\n\n  width: 100vw;\n  height: 150px;\n  padding: "," ",";\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  background-color: ",";\n  box-shadow: 0 -20px 30px rgba(0, 0, 0, 0.2);\n\n  @media (max-width: 550px) {\n    height: 300px;\n    flex-direction: column;\n    padding: "," ",";\n    bottom: 50px;\n  }\n"])),k.space.large,k.space.xxxlage,L.ui.main,k.space.small,k.space.large),yn=y.b.input(ze||(ze=Object(z.a)(["\n  display: none;\n  opacity: 100%;\n"]))),Ln=function(){var e=Object(f.useContext)(Y).showModal,n=Object(f.useContext)(q),t=n.closeCreateWindow,r=n.addNewJob,a=Object(f.useRef)(),i=Object(f.useState)(),o=Object(cn.a)(i,2),c=o[0],s=o[1],l=Object(f.useState)({message:"",date:"",time:""}),u=Object(cn.a)(l,2),d=u[0],b=u[1],h=Object(sn.b)({from:{transform:"translateY(400px)",opacity:0},to:{transform:"translateY(0px)",opacity:1},delay:100}),p=function(e){var n=e.target,t=e.target.id;b(Object(on.a)(Object(on.a)({},d),{},Object(an.a)({},t,n.value)))},m=function(){var e=Object(G.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return",j.isEmpty);case 2:return e.next=4,wn(c);case 4:if(!(n=e.sent).hasError){e.next=7;break}return e.abrupt("return",j.hasError);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var n=Object(G.a)(V.a.mark((function n(){var a,i;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((s=d.message.length)>=280)&&!(s<=0)){n.next=2;break}return n.abrupt("return",e("Please check your word count",x.hasError));case 2:if(o=d.date,c=d.time,""!==o&&null!==o&&""!==c&&null!==c){n.next=4;break}return n.abrupt("return",e("Please check your date or time",x.hasError));case 4:return n.next=6,m();case 6:if((a=n.sent)!==j.hasError){n.next=9;break}return n.abrupt("return",e("Error creating tweety. Please try again.",x.hasError));case 9:return n.next=11,vn(d,a.data);case 11:if((i=n.sent)!==j.hasError){n.next=14;break}return n.abrupt("return",e("Error creating tweet. Please try again.",x.hasError));case 14:e("Tweet created!",x.isOK),setTimeout((function(){t(),r(i.data.jobs.rows)}),3e3);case 16:case"end":return n.stop()}var o,c,s}),n)})));return function(){return n.apply(this,arguments)}}();return Object(W.jsxs)(zn,{style:h,children:[Object(W.jsx)(bn,{value:d.message,onChange:p,id:"message"}),Object(W.jsxs)(pn,{children:[Object(W.jsx)(xn,{type:"date",value:d.date,onChange:p,id:"date"}),Object(W.jsx)(xn,{type:"time",value:d.time,onChange:p,id:"time"}),Object(W.jsx)(gn,{text:c?c.name:"add image",onClick:function(){a.current.click()}}),Object(W.jsx)(gn,{text:"submit",onClick:g}),Object(W.jsx)(yn,{id:"file-select",type:"file",accept:"image/*",ref:a,onChange:function(e){var n=e.target;s(n.files[0])}})]})]})},kn=y.b.div(ye||(ye=Object(z.a)(["\n  width: max-content;\n  height: max-content;\n  border-radius: 15px;\n\n  position: absolute;\n  top: ",";\n  left: calc(50vw - (max-content / 2));\n  z-index: 1000;\n\n  outline: 5px solid ",";\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n\n  color: ",";\n  padding: ",";\n  background-color: ",";\n"])),k.space.large,L.border.mainDark,L.text.white,k.space.large,(function(e){return e.type===x.hasError?L.modal.error:L.modal.ok})),Cn=function(){var e=Object(f.useContext)(Y),n=e.modalState,t=e.hideModal;return Object(f.useEffect)((function(){setTimeout((function(){t()}),3e3)}),[]),Object(W.jsx)(kn,{type:n.type,children:n.text})},En=function(){var e=Object(I.f)(),n=Object(f.useContext)(Y).modalState,t=Object(f.useContext)(q),r=t.jobsState,a=t.getAllJobs,i=Object(f.useContext)(P).authState;return Object(f.useEffect)((function(){i.user&&rn.a.get("connect.sid")||e("/"),a()}),[]),Object(W.jsxs)(en,{children:[n.show?Object(W.jsx)(Cn,{}):null,!0===r.showCreateWindow?Object(W.jsx)(Ln,{}):null,Object(W.jsxs)(nn,{children:[Object(W.jsx)(Ge,{}),Object(W.jsx)($e,{}),Object(W.jsx)(Je,{})]})]})},Sn=t(16);var Dn,Mn=function(){var e=Object(f.useContext)(P).getUserData;return Object(f.useEffect)((function(){tn.get("token")&&e()}),[]),Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(Sn.a,{children:Object(W.jsxs)(I.c,{children:[Object(W.jsx)(I.a,{path:"/",element:Object(W.jsx)(R,{})}),Object(W.jsx)(I.a,{path:"/dashboard",element:Object(W.jsx)(En,{})})]})})})},Tn=function(e,n){switch(n.type){case X:case Z:case Q:return n.payload;default:return e}},Wn=function(e){var n=Object(f.useReducer)(Tn,{show:!1,text:"",type:null}),t=Object(cn.a)(n,2),r=t[0],a=t[1];return Object(W.jsx)(Y.Provider,{value:{modalState:r,showModal:function(e,n){a({type:X,payload:{text:e,show:!0,type:n}})},hideModal:function(){var e=Object(on.a)(Object(on.a)({},r),{},{show:!1});a({type:Z,payload:e})},resetModal:function(){a({type:Q,payload:{text:"",show:!1}})}},children:e.children})},_n="SET_JOBS",Jn="SET_ALL_JOBS",Pn="RESET_JOBS",In="SHOW_WINDOW",Bn="CLOSE_WINDOW";!function(e){e.datedec="datedec",e.dateasc="dateasc",e.status="status"}(Dn||(Dn={}));var An=function(e,n){switch(n.type){case Jn:return Object(on.a)(Object(on.a)({},e),{},{jobs:n.payload,jobsOriginal:n.payload});case Pn:return Object(on.a)(Object(on.a)({},e),{},{jobs:e.jobsOriginal});case _n:return Object(on.a)(Object(on.a)({},e),{},{jobs:n.payload});case In:return Object(on.a)(Object(on.a)({},e),{},{showCreateWindow:!0});case Bn:return Object(on.a)(Object(on.a)({},e),{},{showCreateWindow:!1});default:return e}},Fn=function(e){var n=Object(f.useReducer)(An,{jobs:[],jobsOriginal:[],showCreateWindow:!1}),t=Object(cn.a)(n,2),r=t[0],a=t[1],i=function(){var e=Object(G.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.a.request({method:"POST",withCredentials:!0,url:"http://localhost:3333/api/post/getAllJobs",headers:{authorization:"".concat(tn.get("token"))}});case 3:n=e.sent,a({type:Jn,payload:n.data.data.rows}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",j.hasError);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(G.a)(V.a.mark((function e(n){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.a.request({method:"POST",withCredentials:!0,url:"http://localhost:3333/api/post/deleteJob",headers:{authorization:"".concat(tn.get("token"))},data:{jobID:n}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",j.hasError);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return Object(W.jsx)(q.Provider,{value:{jobsState:r,getAllJobs:i,deletePostByID:o,showCreateWindow:function(){console.log("Show create window"),a({type:In})},closeCreateWindow:function(){console.log("Close create window"),a({type:Bn})},searchJobsByText:function(e){if(""===e)return a({type:Pn});var n=r.jobsOriginal.filter((function(n){return n.message.toLowerCase().includes(e.toLowerCase())}));a({type:_n,payload:n})},removeJobFromState:function(e){var n=r.jobsOriginal.filter((function(n){return n.job_id!==e}));a({type:Jn,payload:n})},addNewJob:function(e){a({type:Jn,payload:e})}},children:e.children})},Hn="SET_LOGIN_DATA",Nn=function(e,n){return n.type===Hn?Object(on.a)(Object(on.a)({},e),{},{user:n.payload}):e},Un=function(e){var n=Object(f.useReducer)(Nn,{isLoggedIn:!1,jwt:"",user:null}),t=Object(cn.a)(n,2),r=t[0],a=t[1],i=function(){var e=Object(G.a)(V.a.mark((function e(){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.a.request({method:"POST",withCredentials:!0,url:"http://localhost:3333/api/auth/getUserData",headers:{authorization:"".concat(tn.get("token"))}});case 3:if(null!==(n=e.sent).data.data){e.next=6;break}return e.abrupt("return",j.hasError);case 6:a({type:Hn,payload:n.data.data}),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",j.hasError);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(G.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On.a.request({method:"GET",withCredentials:!0,url:"http://127.0.0.1:3333/api/auth/logout",headers:{authorization:"".concat(tn.get("token"))}});case 3:if(null!==e.sent.data.data){e.next=6;break}return e.abrupt("return",j.hasError);case 6:return a({type:Hn,payload:null}),e.abrupt("return",j.success);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",j.hasError);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(P.Provider,{value:{authState:r,getUserData:i,logoutUser:o},children:e.children})};v.a.render(Object(W.jsx)(O.a.StrictMode,{children:Object(W.jsx)(Un,{children:Object(W.jsx)(Wn,{children:Object(W.jsx)(Fn,{children:Object(W.jsx)(Mn,{})})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.771d3ee1.chunk.js.map