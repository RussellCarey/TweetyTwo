{"ast":null,"code":"import axios from \"axios\";\nimport * as Cookies from \"js-cookie\";\nimport { ERequestOutcomes } from \"../../../types/errors\";\nexport const uploadImageFile = async image => {\n  // Upload image to server\n  const data = new FormData();\n  data.append(\"image\", image, `${image.name}`);\n\n  try {\n    const imagePost = await axios.request({\n      method: \"POST\",\n      withCredentials: true,\n      url: `http://localhost:3333/api/post/addImage`,\n      data,\n      headers: {\n        authorization: `${Cookies.get(\"token\")}`\n      }\n    });\n    return imagePost.data;\n  } catch (error) {\n    return ERequestOutcomes.hasError;\n  }\n};\n\nconst uploadTweet = async (message, date, time, url, name, uploadAttempt) => {\n  try {\n    const post = await axios.request({\n      method: \"POST\",\n      withCredentials: true,\n      url: `http://localhost:3333/api/post/message`,\n      data: {\n        date: date,\n        time: time,\n        message: message,\n        imageURL: uploadAttempt !== ERequestOutcomes.isEmpty ? url : null,\n        imageName: uploadAttempt !== ERequestOutcomes.isEmpty ? name : null\n      },\n      headers: {\n        authorization: `${Cookies.get(\"token\")}`\n      }\n    });\n    return post;\n  } catch {\n    return ERequestOutcomes.hasError;\n  }\n};","map":{"version":3,"sources":["/Users/r/Desktop/TweetyTwo/client_two/src/components/create-window/services/dbServices.ts"],"names":["axios","Cookies","ERequestOutcomes","uploadImageFile","image","data","FormData","append","name","imagePost","request","method","withCredentials","url","headers","authorization","get","error","hasError","uploadTweet","message","date","time","uploadAttempt","post","imageURL","isEmpty","imageName"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,WAAzB;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAOC,KAAP,IAAuB;AACpD;AACA,QAAMC,IAAc,GAAG,IAAIC,QAAJ,EAAvB;AACAD,EAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBH,KAArB,EAA6B,GAAEA,KAAK,CAACI,IAAK,EAA1C;;AAEA,MAAI;AACF,UAAMC,SAAS,GAAG,MAAMT,KAAK,CAACU,OAAN,CAAc;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,eAAe,EAAE,IAFmB;AAGpCC,MAAAA,GAAG,EAAG,yCAH8B;AAIpCR,MAAAA,IAJoC;AAKpCS,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,GAAEd,OAAO,CAACe,GAAR,CAAY,OAAZ,CAAqB;AADhC;AAL2B,KAAd,CAAxB;AAUA,WAAOP,SAAS,CAACJ,IAAjB;AACD,GAZD,CAYE,OAAOY,KAAP,EAAc;AACd,WAAOf,gBAAgB,CAACgB,QAAxB;AACD;AACF,CApBM;;AAsBP,MAAMC,WAAW,GAAG,OAClBC,OADkB,EAElBC,IAFkB,EAGlBC,IAHkB,EAIlBT,GAJkB,EAKlBL,IALkB,EAMlBe,aANkB,KAOf;AACH,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMxB,KAAK,CAACU,OAAN,CAAc;AAC/BC,MAAAA,MAAM,EAAE,MADuB;AAE/BC,MAAAA,eAAe,EAAE,IAFc;AAG/BC,MAAAA,GAAG,EAAG,wCAHyB;AAI/BR,MAAAA,IAAI,EAAE;AACJgB,QAAAA,IAAI,EAAEA,IADF;AAEJC,QAAAA,IAAI,EAAEA,IAFF;AAGJF,QAAAA,OAAO,EAAEA,OAHL;AAIJK,QAAAA,QAAQ,EAAEF,aAAa,KAAKrB,gBAAgB,CAACwB,OAAnC,GAA6Cb,GAA7C,GAAmD,IAJzD;AAKJc,QAAAA,SAAS,EAAEJ,aAAa,KAAKrB,gBAAgB,CAACwB,OAAnC,GAA6ClB,IAA7C,GAAoD;AAL3D,OAJyB;AAW/BM,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,GAAEd,OAAO,CAACe,GAAR,CAAY,OAAZ,CAAqB;AADhC;AAXsB,KAAd,CAAnB;AAgBA,WAAOQ,IAAP;AACD,GAlBD,CAkBE,MAAM;AACN,WAAOtB,gBAAgB,CAACgB,QAAxB;AACD;AACF,CA7BD","sourcesContent":["import axios from \"axios\";\nimport * as Cookies from \"js-cookie\";\nimport { ERequestOutcomes } from \"../../../types/errors\";\n\nexport const uploadImageFile = async (image: File) => {\n  // Upload image to server\n  const data: FormData = new FormData();\n  data.append(\"image\", image, `${image.name}`);\n\n  try {\n    const imagePost = await axios.request({\n      method: \"POST\",\n      withCredentials: true,\n      url: `http://localhost:3333/api/post/addImage`,\n      data,\n      headers: {\n        authorization: `${Cookies.get(\"token\")}`,\n      },\n    });\n\n    return imagePost.data;\n  } catch (error) {\n    return ERequestOutcomes.hasError;\n  }\n};\n\nconst uploadTweet = async (\n  message: string,\n  date: string,\n  time: string,\n  url: string,\n  name: string,\n  uploadAttempt: string\n) => {\n  try {\n    const post = await axios.request({\n      method: \"POST\",\n      withCredentials: true,\n      url: `http://localhost:3333/api/post/message`,\n      data: {\n        date: date,\n        time: time,\n        message: message,\n        imageURL: uploadAttempt !== ERequestOutcomes.isEmpty ? url : null,\n        imageName: uploadAttempt !== ERequestOutcomes.isEmpty ? name : null,\n      },\n      headers: {\n        authorization: `${Cookies.get(\"token\")}`,\n      },\n    });\n\n    return post;\n  } catch {\n    return ERequestOutcomes.hasError;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}